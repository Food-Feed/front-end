{"ast":null,"code":"var _jsxFileName = \"/Users/hannahkofkin/Development/code/mod-5-project/front-end/src/components/Login/Login.js\";\nimport React, { useState } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport './Login.css';\nexport default function Login(props) {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const history = useHistory();\n\n  const handleUsernameChange = evt => {\n    setUsername(evt.target.value);\n  };\n\n  const handlePasswordChange = evt => {\n    setPassword(evt.target.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const token = localStorage.getItem(\"token\");\n    fetch(`http://localhost:3000/login`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${token}`,\n        \"Accept\": \"application/json\"\n      },\n      body: JSON.stringify({\n        username,\n        password\n      })\n    }).then(r => r.json()).then(data => {\n      localStorage.setItem(\"token\", data.jwt);\n      props.handleLogin(data.user);\n      history.push('/home');\n    }); // setUsername(\"\")\n    // setPassword(\"\")\n  };\n\n  const formDivStyle = {\n    margin: \"auto\",\n    padding: \"20px\",\n    width: \"50%\"\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: formDivStyle,\n    className: \"login-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, \"Log In\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"ui form\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 25\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n    value: username,\n    onChange: handleUsernameChange,\n    type: \"text\",\n    placeholder: \"username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 25\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    value: password,\n    onChange: handlePasswordChange,\n    type: \"password\",\n    placeholder: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"ui button\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }\n  }, \"Submit\"))));\n}","map":{"version":3,"sources":["/Users/hannahkofkin/Development/code/mod-5-project/front-end/src/components/Login/Login.js"],"names":["React","useState","useHistory","Login","props","username","setUsername","password","setPassword","history","handleUsernameChange","evt","target","value","handlePasswordChange","handleSubmit","e","preventDefault","token","localStorage","getItem","fetch","method","headers","body","JSON","stringify","then","r","json","data","setItem","jwt","handleLogin","user","push","formDivStyle","margin","padding","width"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAO,aAAP;AAEA,eAAe,SAASC,KAAT,CAAeC,KAAf,EAAqB;AAChC,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BL,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACM,QAAD,EAAWC,WAAX,IAA0BP,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAMQ,OAAO,GAAGP,UAAU,EAA1B;;AAEA,QAAMQ,oBAAoB,GAAIC,GAAD,IAAS;AAClCL,IAAAA,WAAW,CAACK,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAX;AACH,GAFD;;AAIA,QAAMC,oBAAoB,GAAIH,GAAD,IAAS;AAClCH,IAAAA,WAAW,CAACG,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAX;AACH,GAFD;;AAIA,QAAME,YAAY,GAAIC,CAAD,IAAO;AACxBA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACAC,IAAAA,KAAK,CAAE,6BAAF,EAAgC;AACjCC,MAAAA,MAAM,EAAE,MADyB;AAEjCC,MAAAA,OAAO,EAAE;AACL,wBAAgB,kBADX;AAEL,yBAAkB,UAASL,KAAM,EAF5B;AAGL,kBAAU;AAHL,OAFwB;AAOjCM,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBrB,QAAAA,QADiB;AAEjBE,QAAAA;AAFiB,OAAf;AAP2B,KAAhC,CAAL,CAYCoB,IAZD,CAYMC,CAAC,IAAIA,CAAC,CAACC,IAAF,EAZX,EAaCF,IAbD,CAaMG,IAAI,IAAI;AACVX,MAAAA,YAAY,CAACY,OAAb,CAAqB,OAArB,EAA8BD,IAAI,CAACE,GAAnC;AACA5B,MAAAA,KAAK,CAAC6B,WAAN,CAAkBH,IAAI,CAACI,IAAvB;AACAzB,MAAAA,OAAO,CAAC0B,IAAR,CAAa,OAAb;AAEH,KAlBD,EAHwB,CAsBxB;AACA;AACH,GAxBD;;AAyBA,QAAMC,YAAY,GAAG;AACjBC,IAAAA,MAAM,EAAE,MADS;AAEjBC,IAAAA,OAAO,EAAE,MAFQ;AAGjBC,IAAAA,KAAK,EAAE;AAHU,GAArB;AAKA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,KAAK,EAAEH,YAAZ;AAA0B,IAAA,SAAS,EAAC,YAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAM,IAAA,SAAS,EAAC,SAAhB;AAA0B,IAAA,QAAQ,EAAErB,YAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAO,IAAA,KAAK,EAAEV,QAAd;AAAwB,IAAA,QAAQ,EAAEK,oBAAlC;AAAwD,IAAA,IAAI,EAAC,MAA7D;AAAoE,IAAA,WAAW,EAAC,UAAhF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADJ,eAKI;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAO,IAAA,KAAK,EAAEH,QAAd;AAAwB,IAAA,QAAQ,EAAEO,oBAAlC;AAAwD,IAAA,IAAI,EAAC,UAA7D;AAAwE,IAAA,WAAW,EAAC,UAApF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CALJ,eAUI;AAAQ,IAAA,SAAS,EAAC,WAAlB;AAA8B,IAAA,IAAI,EAAC,QAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAVJ,CAFJ,CADJ,CADJ;AAmBH","sourcesContent":["import React, {useState} from 'react'\nimport { useHistory } from \"react-router-dom\";\nimport './Login.css'\n\nexport default function Login(props){\n    const [username, setUsername] = useState(\"\")\n    const [password, setPassword] = useState(\"\")\n    const history = useHistory();\n\n    const handleUsernameChange = (evt) => {\n        setUsername(evt.target.value)\n    }\n\n    const handlePasswordChange = (evt) => {\n        setPassword(evt.target.value)\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n        const token = localStorage.getItem(\"token\")\n        fetch(`http://localhost:3000/login`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": `Bearer ${token}`,\n                \"Accept\": \"application/json\"\n            },\n            body: JSON.stringify({\n                username,\n                password\n            })\n        })\n        .then(r => r.json())\n        .then(data => {\n            localStorage.setItem(\"token\", data.jwt)\n            props.handleLogin(data.user)\n            history.push('/home')\n\n        })\n        // setUsername(\"\")\n        // setPassword(\"\")\n    }\n    const formDivStyle = {\n        margin: \"auto\",\n        padding: \"20px\",\n        width: \"50%\"\n    }\n    return(\n        <div>\n            <div style={formDivStyle} className=\"login-form\">\n                <h1>Log In</h1>\n                <form className=\"ui form\" onSubmit={handleSubmit}>\n                    <div className=\"field\">\n                        <label>Username</label>\n                        <input value={username} onChange={handleUsernameChange} type=\"text\" placeholder=\"username\"/>\n                    </div>\n                    <div className=\"field\">\n                        <label>Password</label>\n                        <input value={password} onChange={handlePasswordChange} type=\"password\" placeholder=\"password\"/>\n                    </div>\n                    \n                    <button className=\"ui button\" type=\"submit\">Submit</button>\n                </form>\n            </div>\n        </div>\n    )\n} \n"]},"metadata":{},"sourceType":"module"}