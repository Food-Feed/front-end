{"ast":null,"code":"var _jsxFileName = \"/Users/hannahkofkin/Development/code/mod-5-project/front-end/src/components/Recipe-Detail-Page/RecipeDetail.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport RatingExampleClearable from './AverageRating';\nimport CommentContainer from './CommentContainer';\nexport default function RecipeDetail(props) {\n  console.log(props);\n  const [state, setState] = useState({});\n  const [recipeForm, setRecipeForm] = useState(false);\n  const [comment, setComment] = useState({});\n  console.log(\"recipe form state\", recipeForm);\n  console.log(\"comm\", comment);\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    fetch(`http://localhost:3000/recipes/${props.match.params.id}`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${token}`,\n        \"Accept\": \"application/json\"\n      }\n    }).then(r => r.json()).then(recipeObj => {\n      setState(recipeObj);\n    });\n  }, []);\n  console.log(state);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }\n  }, state.title), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }, state.ingred_list), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }, state.description), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"video\", {\n    controls: true,\n    width: \"250\",\n    src: state.video,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }), props.comment.user_id == user_id && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"default\",\n    className: classes.button,\n    startIcon: /*#__PURE__*/React.createElement(EditIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 28\n      }\n    }),\n    onClick: editComment,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 15\n    }\n  }, \"Edit\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"default\",\n    className: classes.button,\n    startIcon: /*#__PURE__*/React.createElement(DeleteIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 28\n      }\n    }),\n    onClick: deleteComment,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 15\n    }\n  }, \"Delete\")), /*#__PURE__*/React.createElement(RatingExampleClearable, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(CommentContainer, {\n    recipe: state,\n    comments: state.comments,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/hannahkofkin/Development/code/mod-5-project/front-end/src/components/Recipe-Detail-Page/RecipeDetail.js"],"names":["React","useState","useEffect","useHistory","RatingExampleClearable","CommentContainer","RecipeDetail","props","console","log","state","setState","recipeForm","setRecipeForm","comment","setComment","token","localStorage","getItem","fetch","match","params","id","method","headers","then","r","json","recipeObj","title","ingred_list","description","video","user_id","classes","button","editComment","deleteComment","comments"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useHistory } from \"react-router-dom\";\nimport RatingExampleClearable from './AverageRating'\nimport CommentContainer from './CommentContainer'\n\nexport default function RecipeDetail(props) {\n  console.log(props)\n    const [state, setState] = useState({});\n\n    const [recipeForm, setRecipeForm] = useState(false);\n    const [comment, setComment] = useState({});\n    console.log(\"recipe form state\", recipeForm);\n    console.log(\"comm\", comment);\n\n    useEffect(() => {\n      const token = localStorage.getItem(\"token\")\n      fetch(`http://localhost:3000/recipes/${props.match.params.id}`, {\n        method: \"GET\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\": `Bearer ${token}`,\n            \"Accept\": \"application/json\"\n        }\n      })\n        .then((r) => r.json())\n        .then((recipeObj) => {\n          setState(recipeObj);\n        });\n    }, []);\n    console.log(state)\n    return (\n        <div>\n            <h4>{state.title}</h4>\n            <hr></hr>\n            <p>{state.ingred_list}</p>\n            <hr></hr>\n            <p>{state.description}</p>\n            <hr></hr>\n            <video controls width=\"250\" src={state.video}></video>\n            <hr></hr>\n            {props.comment.user_id == user_id && (\n            <>\n              <Button\n                variant=\"contained\"\n                color=\"default\"\n                className={classes.button}\n                startIcon={<EditIcon />}\n                onClick={editComment}\n              >\n                Edit\n              </Button>\n              <Button\n                variant=\"contained\"\n                color=\"default\"\n                className={classes.button}\n                startIcon={<DeleteIcon />}\n                onClick={deleteComment}\n              >\n                Delete\n              </Button>\n            </>\n          )}\n            <RatingExampleClearable />\n            <hr></hr>\n            <CommentContainer recipe={state} comments={state.comments}/>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}