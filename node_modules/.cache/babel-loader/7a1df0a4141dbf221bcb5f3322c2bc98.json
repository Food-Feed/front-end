{"ast":null,"code":"var _jsxFileName = \"/Users/hannahkofkin/Development/code/mod-5-project/front-end/src/components/Recipes-Page/AddRecipe.js\";\nimport React from 'react';\nimport styled from 'styled-components';\nexport default function AddRecipe(props) {\n  const HoverText = styled.p`\n\tcolor: #000;\n\t:hover {\n\t\tbackground-color: #C9A2A5;\n        color: #351921;\n        font-weight: bold;\n\t}\n`;\n\n  const displayFormHandler = () => {\n    props.setRecipeForm(prevState => {\n      return !prevState;\n    });\n  };\n\n  const changeHandler = e => {\n    e.persist();\n    props.setFormState(prevState => ({ ...prevState,\n      [e.target.name]: e.target.value\n    }));\n    console.log(props.formState);\n  };\n\n  const changeHandlerFiles = e => {\n    e.persist();\n    props.setFormState(prevState => ({ ...prevState,\n      [e.target.name]: e.target.files[0]\n    }));\n    console.log(props.formState);\n  };\n\n  const handleRecipeCreation = e => {\n    e.preventDefault();\n    const token = localStorage.getItem(\"token\");\n    const form = new FormData();\n    form.append(\"image\", props.formState.image);\n    form.append(\"video\", props.formState.video);\n    form.append(\"title\", props.formState.title);\n    form.append(\"ingred_list\", props.formState.ingred_list);\n    form.append(\"description\", props.formState.description);\n    fetch(\"http://localhost:3000/recipes\", {\n      method: \"POST\",\n      headers: {\n        \"Authorization\": `Bearer ${token}`\n      },\n      body: form\n    }).then(r => r.json()).then(newRecipe => {\n      console.log(newRecipe);\n      props.renderNewRecipe(prevState => [newRecipe, ...prevState]);\n    });\n    props.setFormState({\n      image: \"\",\n      video: \"\",\n      title: \"\",\n      ingred_list: \"\",\n      description: \"\"\n    });\n    props.setRecipeForm(false);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, props.recipeForm ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }, \"New Recipe\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleRecipeCreation,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 25\n    }\n  }, \"Image Upload:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    name: \"image\",\n    onChange: changeHandlerFiles,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 25\n    }\n  }, \"Video Upload\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    name: \"video\",\n    onChange: changeHandlerFiles,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 25\n    }\n  }, \"Title:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"title\",\n    onChange: changeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 25\n    }\n  }, \"Ingredient List:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"textarea\",\n    name: \"ingred_list\",\n    onChange: changeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 25\n    }\n  }, \"Instructions:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"textarea\",\n    name: \"description\",\n    onChange: changeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: displayFormHandler,\n    className: \"add-recipe-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }\n  }, \"Cancel\")) : /*#__PURE__*/React.createElement(HoverText, {\n    onClick: displayFormHandler,\n    className: \"add-recipe-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }, \"+\"));\n}","map":{"version":3,"sources":["/Users/hannahkofkin/Development/code/mod-5-project/front-end/src/components/Recipes-Page/AddRecipe.js"],"names":["React","styled","AddRecipe","props","HoverText","p","displayFormHandler","setRecipeForm","prevState","changeHandler","e","persist","setFormState","target","name","value","console","log","formState","changeHandlerFiles","files","handleRecipeCreation","preventDefault","token","localStorage","getItem","form","FormData","append","image","video","title","ingred_list","description","fetch","method","headers","body","then","r","json","newRecipe","renderNewRecipe","recipeForm"],"mappings":"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","sourcesContent":["import React from 'react'\nimport styled from 'styled-components';\n\nexport default function AddRecipe(props) {\n\n    const HoverText = styled.p`\n\tcolor: #000;\n\t:hover {\n\t\tbackground-color: #C9A2A5;\n        color: #351921;\n        font-weight: bold;\n\t}\n`\n\n    const displayFormHandler = () => {\n        props.setRecipeForm((prevState) => {\n          return !prevState;\n        });\n    };\n\n    const changeHandler = (e) => {\n        e.persist();\n        props.setFormState((prevState) => ({\n          ...prevState,\n          [e.target.name]: e.target.value,\n        }));\n        console.log(props.formState);\n    };\n\n    const changeHandlerFiles = (e) => {\n        e.persist();\n        props.setFormState((prevState) => ({\n          ...prevState,\n          [e.target.name]: e.target.files[0],\n        }));\n        console.log(props.formState);\n    };\n\n    const handleRecipeCreation = (e) => {\n        e.preventDefault();\n        const token = localStorage.getItem(\"token\")\n\n        const form = new FormData()\n        form.append(\"image\", props.formState.image)\n        form.append(\"video\", props.formState.video)\n        form.append(\"title\", props.formState.title)\n        form.append(\"ingred_list\", props.formState.ingred_list)\n        form.append(\"description\", props.formState.description)\n\n        fetch(\"http://localhost:3000/recipes\", {\n            method: \"POST\",\n            headers: {\n                \"Authorization\": `Bearer ${token}`,\n            },\n            body: form,\n        })\n            .then((r) => r.json())\n            .then((newRecipe) => {\n                console.log(newRecipe)\n                props.renderNewRecipe((prevState => [newRecipe, ...prevState]))\n            });\n        props.setFormState({image: \"\", video: \"\", title: \"\", ingred_list: \"\", description: \"\"});\n        props.setRecipeForm(false);\n    };\n\n    return (\n        <>\n            {props.recipeForm ? (\n                <div className=\"form\">\n                    <h1>New Recipe</h1>\n                    <form onSubmit={handleRecipeCreation}>\n                        <label>Image Upload:</label>\n                        <input type=\"file\" name=\"image\" onChange={changeHandlerFiles}/>\n                        <br/>\n                        <label>Video Upload</label>\n                        <input type=\"file\" name=\"video\" onChange={changeHandlerFiles}/>\n                        <br/>\n                        <label>Title:</label>\n                        <input type=\"text\" name=\"title\" onChange={changeHandler}/>\n                        <br/>\n                        <label>Ingredient List:</label>\n                        <input type=\"textarea\" name=\"ingred_list\" onChange={changeHandler}/>\n                        <br/>\n                        <label>Instructions:</label>\n                        <input type=\"textarea\" name=\"description\" onChange={changeHandler}/>\n                        <br/>\n                        <input type=\"submit\"/>\n                    </form>\n                    <button\n                        type=\"button\"\n                        onClick={displayFormHandler}\n                        className=\"add-recipe-button\"\n                    >\n                        Cancel\n                </button>\n                </div>\n                ) : (\n                <HoverText\n                    onClick={displayFormHandler}\n                    className=\"add-recipe-button\"\n                >\n                    +\n                </HoverText>\n            )}\n        </>\n    )\n}"]},"metadata":{},"sourceType":"module"}