{"ast":null,"code":"var _jsxFileName = \"/Users/hannahkofkin/Development/code/mod-5-project/front-end/src/components/Recipe-Detail-Page/EditComment.js\";\nimport React, { useEffect, useState } from 'react';\nimport { Button, Form } from 'semantic-ui-react';\nimport RecipeDetail from './RecipeDetail';\nimport './RecipeDetail.css'; // props \n// editForm={editForm}\n// setEditForm={setEditForm}\n// comment={props.comment}\n\nexport default function EditComment(props) {\n  const [state, setState] = useState({});\n  console.log(props.recipe);\n  const recipe = props.recipe;\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    fetch(`http://localhost:3000/comments/${props.comment.id}`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${token}`,\n        \"Accept\": \"application/json\"\n      }\n    }).then(r => r.json()).then(comments => {\n      comments.filter(comment => comment.recipe_id === current_recipe_id);\n      setState(comments);\n      console.log(comments);\n    });\n  }, []);\n\n  const changeHandler = e => {\n    e.persist();\n    setState({\n      content: e.target.value\n    });\n    props.setFormState(state);\n    console.log(props.formState);\n  };\n\n  const handleCommentEdit = e => {\n    e.preventDefault();\n    console.log(\"comment state\", props.formState);\n    const token = localStorage.getItem(\"token\");\n    fetch(\"http://localhost:3000/comments\", {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        \"Authorization\": `Bearer ${token}`,\n        \"Accept\": \"application/json\"\n      },\n      body: JSON.stringify(state)\n    }).then(r => r.json()).then(newComment => {\n      console.log(newComment);\n      props.renderNewComment(prevState => [...prevState, newComment]);\n    });\n    props.setFormState({\n      recipe_id: props.recipe.id,\n      content: \"\"\n    });\n    setState({\n      recipe_id: props.recipe.id,\n      content: \"\"\n    });\n    console.log(props.recipe.comments);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleCommentCreation,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Field, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    id: \"new-comment-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 25\n    }\n  }, \"New Comment\"), /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"Add your comment here...\",\n    name: \"content\",\n    value: state.content,\n    onChange: e => changeHandler(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }, \"Submit\")));\n}","map":{"version":3,"sources":["/Users/hannahkofkin/Development/code/mod-5-project/front-end/src/components/Recipe-Detail-Page/EditComment.js"],"names":["React","useEffect","useState","Button","Form","RecipeDetail","EditComment","props","state","setState","console","log","recipe","token","localStorage","getItem","fetch","comment","id","method","headers","then","r","json","comments","filter","recipe_id","current_recipe_id","changeHandler","e","persist","content","target","value","setFormState","formState","handleCommentEdit","preventDefault","body","JSON","stringify","newComment","renderNewComment","prevState","handleCommentCreation"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { Button, Form } from 'semantic-ui-react'\nimport RecipeDetail from './RecipeDetail';\nimport './RecipeDetail.css'\n\n// props \n// editForm={editForm}\n// setEditForm={setEditForm}\n// comment={props.comment}\n\nexport default function EditComment(props) {\n    const [state, setState] = useState({})\n    console.log(props.recipe)\n    const recipe = props.recipe\n\n    useEffect(() => {\n        const token = localStorage.getItem(\"token\")\n        fetch(`http://localhost:3000/comments/${props.comment.id}`, {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": `Bearer ${token}`,\n                \"Accept\": \"application/json\"\n            }\n        })\n            .then(r => r.json())\n            .then(comments => {\n                comments.filter(comment => comment.recipe_id === current_recipe_id)\n                setState(comments)\n                console.log(comments)\n            });\n    }, []);\n\n    const changeHandler = (e) => {\n        e.persist();\n        setState({content: e.target.value})\n        props.setFormState(state);\n        console.log(props.formState);\n    };\n\n    const handleCommentEdit = (e) => {\n        e.preventDefault();\n        console.log(\"comment state\", props.formState)\n        const token = localStorage.getItem(\"token\")\n\n        fetch(\"http://localhost:3000/comments\", {\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json',\n                \"Authorization\": `Bearer ${token}`,\n                \"Accept\": \"application/json\",\n            },\n            body: JSON.stringify(state),\n        })\n            .then((r) => r.json())\n            .then((newComment) => {\n                console.log(newComment)\n                props.renderNewComment((prevState => [...prevState, newComment]))\n            });\n        props.setFormState({recipe_id: props.recipe.id, content: \"\"});\n        setState({recipe_id: props.recipe.id, content: \"\"});\n        console.log(props.recipe.comments)\n    };\n\n        return (\n            <div className=\"form\">\n                <Form onSubmit={handleCommentCreation}>\n                    <Form.Field>\n                        <label id=\"new-comment-text\">New Comment</label>\n                        <input \n                            placeholder='Add your comment here...' \n                            name=\"content\"\n                            value={state.content}\n                            onChange={e => changeHandler(e)}/>\n                    </Form.Field>\n                    <Button type='submit'>Submit</Button>\n                </Form>\n            </div>\n        )\n    }\n"]},"metadata":{},"sourceType":"module"}